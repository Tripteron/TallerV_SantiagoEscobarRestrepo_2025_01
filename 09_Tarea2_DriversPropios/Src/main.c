/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Auto-generated by STM32CubeIDE
 * @brief          : Main program body
 ******************************************************************************
 * @attention
 *
 * Copyright (c) 2025 STMicroelectronics.
 * All rights reserved.
 *
 * This software is licensed under terms that can be found in the LICENSE file
 * in the root directory of this software component.
 * If no LICENSE file comes with this software, it is provided AS-IS.
 *
 ******************************************************************************
 */

/* ----------------- LIBRERIAS ------------------ */
#include <stdint.h>
#include "magic.c"
#include "gpio_driver_hal.h"
#include "exti_driver_hal.h"
#include "timer_driver_hal.h"
#include "stm32f4xx.h"

/* ---------------- DEFINICIÃ“N DE VARIABLES DE LAS CLASES ---------------- */
GPIO_Handler_t pinH1Led2Board = {0};
GPIO_Handler_t pinEncoderCLK = {0};
GPIO_Handler_t pinEncoderDT = {0};
GPIO_Handler_t pinEncoderSW = {0};
GPIO_Handler_t pinSegmentA = {0};
GPIO_Handler_t pinSegmentB = {0};
GPIO_Handler_t pinSegmentC = {0};
GPIO_Handler_t pinSegmentD = {0};
GPIO_Handler_t pinSegmentE = {0};
GPIO_Handler_t pinSegmentF = {0};
GPIO_Handler_t pinSegmentG = {0};
GPIO_Handler_t pinDigit1 = {0};
GPIO_Handler_t pinDigit2 = {0};
GPIO_Handler_t pinDigit3 = {0};
GPIO_Handler_t pinDigit4 = {0};

Timer_Handler_t display7SegmentTime = {0};
Timer_Handler_t blinkLedPinH1 = {0};

EXTI_Config_t pinExtiEncoderCLK = {0};
EXTI_Config_t pinExtiEncoderSW = {0};



/* ------------------ HEADERS FOR PRIVATE FUNCTIONS ------------- */
void gpioConfig(void);
void extiConfig(void);
void timerConfig(void);




/* ------------------ CLASS FUNCTIONS ------------ */
int main(void)
{
	gpioConfig();
    /* Loop forever */
	while(1)
	{


	}return 0;
}

/* ------------------- CONFIG FUNCTIONS ----------- */
void gpioConfig(void)
{
	/* LED BLINKER BOARD */
	pinH1Led2Board.pGPIOx = GPIOH;
	pinH1Led2Board.pinConfig.GPIO_PinNumber = PIN_1;
	pinH1Led2Board.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinH1Led2Board.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinH1Led2Board.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinH1Led2Board.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinH1Led2Board);

	//Encoder pin CLK
	pinEncoderCLK.pGPIOx = GPIOB;
	pinEncoderCLK.pinConfig.GPIO_PinNumber = PIN_5;
	pinEncoderCLK.pinConfig.GPIO_PinMode = GPIO_MODE_IN;
	pinEncoderCLK.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	gpio_Config(&pinEncoderCLK);

	//Encoder pin SW
	pinEncoderSW.pGPIOx = GPIOB;
	pinEncoderSW.pinConfig.GPIO_PinNumber = PIN_5;
	pinEncoderSW.pinConfig.GPIO_PinMode = GPIO_MODE_IN;
	pinEncoderSW.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	gpio_Config(&pinEncoderSW);

	/* 7 segmentos */
	pinSegmentA.pGPIOx = GPIOB;
	pinSegmentA.pinConfig.GPIO_PinNumber = PIN_12;
	pinSegmentA.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinSegmentA.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinSegmentA.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinSegmentA.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinSegmentA);

	/* 7 segmentos */
	pinSegmentB.pGPIOx = GPIOD;
	pinSegmentB.pinConfig.GPIO_PinNumber = PIN_2;
	pinSegmentB.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinSegmentB.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinSegmentB.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinSegmentB.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinSegmentB);

	/* 7 segmentos */
	pinSegmentC.pGPIOx = GPIOC;
	pinSegmentC.pinConfig.GPIO_PinNumber = PIN_12;
	pinSegmentC.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinSegmentC.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinSegmentC.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinSegmentC.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinSegmentC);

	/* 7 segmentos */
	pinSegmentD.pGPIOx = GPIOC;
	pinSegmentD.pinConfig.GPIO_PinNumber = PIN_9;
	pinSegmentD.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinSegmentD.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinSegmentD.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinSegmentD.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinSegmentD);

	/* 7 segmentos */
	pinSegmentE.pGPIOx = GPIOC;
	pinSegmentE.pinConfig.GPIO_PinNumber = PIN_8;
	pinSegmentE.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinSegmentE.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinSegmentE.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinSegmentE.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinSegmentE);

	/* 7 segmentos */
	pinSegmentF.pGPIOx = GPIOC;
	pinSegmentF.pinConfig.GPIO_PinNumber = PIN_10;
	pinSegmentF.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinSegmentF.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinSegmentF.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinSegmentF.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinSegmentF);

	/* 7 segmentos */
	pinSegmentG.pGPIOx = GPIOC;
	pinSegmentG.pinConfig.GPIO_PinNumber = PIN_11;
	pinSegmentG.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinSegmentG.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinSegmentG.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinSegmentG.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinSegmentG);

	/* 7 segmentos digitos */
	pinDigit1.pGPIOx = GPIOC;
	pinDigit1.pinConfig.GPIO_PinNumber = PIN_6;
	pinDigit1.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinDigit1.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinDigit1.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinDigit1.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinDigit1);
	gpio_WritePin(&pinDigit1, SET);

	/* 7 segmentos digitos */
	pinDigit2.pGPIOx = GPIOC;
	pinDigit2.pinConfig.GPIO_PinNumber = PIN_5;
	pinDigit2.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinDigit2.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinDigit2.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinDigit2.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinDigit2);
	gpio_WritePin(&pinDigit2, SET);

	/* 7 segmentos digitos */
	pinDigit3.pGPIOx = GPIOA;
	pinDigit3.pinConfig.GPIO_PinNumber = PIN_11;
	pinDigit3.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinDigit3.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinDigit3.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinDigit3.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinDigit3);
	gpio_WritePin(&pinDigit3, SET);

	/* 7 segmentos digitos */
	pinDigit4.pGPIOx = GPIOA;
	pinDigit4.pinConfig.GPIO_PinNumber = PIN_12;
	pinDigit4.pinConfig.GPIO_PinMode = GPIO_MODE_OUT;
	pinDigit4.pinConfig.GPIO_PinOutputType = GPIO_OTYPE_PUSHPULL;
	pinDigit4.pinConfig.GPIO_PinPuPdControl = GPIO_PUPDR_NOTHING;
	pinDigit4.pinConfig.GPIO_PinOutputSpeed = GPIO_OSPEED_FAST;
	gpio_Config(&pinDigit4);
	gpio_WritePin(&pinDigit4, SET);
}

/* -------------------- INTERRUPT FUNCTIONS -------------- */

